{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/person.js","App.js","index.js"],"names":["Person","person","handleDeletePersonButton","name","number","type","onClick","id","Persons","persons","filter","filteredPersons","toLowerCase","includes","map","key","PersonForm","handleAddPersonSubmit","handleAddPersonNameInput","handleAddPersonNameInputChange","handleAddPersonNumberInput","handleAddPersonNumberInputChange","onSubmit","value","onChange","Filter","handleFilterInput","handleFilterInputChange","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","content","style","baseUrl","axios","get","then","response","data","post","put","delete","App","useState","setPersons","setName","setNumber","setFilter","setMessage","showNotification","Error","errorMessage","undefined","setTimeout","useEffect","personService","initialPersons","event","target","newPerson","matchingPersons","preventDefault","length","confirmMessage","window","confirm","returnedPerson","catch","error","concat","nameToBeDeleted","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b0cbb28f.chunk.js","sourcesContent":["import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst Person = ({ person, handleDeletePersonButton }) => (\n  <div>\n    <strong>{person.name}</strong> {person.number} ---{' '}\n    <button\n      type=\"button\"\n      onClick={() => handleDeletePersonButton(person.id, person.name)}\n    >\n      <strong>Delete</strong>\n    </button>\n  </div>\n)\n\nPerson.propTypes = {\n  person: PropTypes.objectOf(PropTypes.any).isRequired,\n  handleDeletePersonButton: PropTypes.func.isRequired\n}\n\nexport default Person\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filter, handleDeletePersonButton }) => {\n  const filteredPersons = persons.filter((person) => {\n    return person.name.toLowerCase().includes(filter.toLowerCase())\n  })\n\n  return (\n    <div>\n      {filteredPersons.map((person) => (\n        <Person\n          key={person.id}\n          person={person}\n          handleDeletePersonButton={handleDeletePersonButton}\n        />\n      ))}\n    </div>\n  )\n}\n\nPersons.propTypes = {\n  filter: PropTypes.string.isRequired,\n  persons: PropTypes.arrayOf(PropTypes.object).isRequired,\n  handleDeletePersonButton: PropTypes.func.isRequired\n}\n\nexport default Persons\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst PersonForm = ({\n  handleAddPersonSubmit,\n  handleAddPersonNameInput,\n  handleAddPersonNameInputChange,\n  handleAddPersonNumberInput,\n  handleAddPersonNumberInputChange\n}) => (\n  <form onSubmit={handleAddPersonSubmit}>\n    <div>\n      Name:{' '}\n      <input\n        value={handleAddPersonNameInput}\n        onChange={handleAddPersonNameInputChange}\n      />\n    </div>\n    <div>\n      Number:{' '}\n      <input\n        value={handleAddPersonNumberInput}\n        onChange={handleAddPersonNumberInputChange}\n      />\n    </div>\n    <div>\n      <button type=\"submit\">\n        <strong>Add</strong>\n      </button>\n    </div>\n  </form>\n)\n\nPersonForm.propTypes = {\n  handleAddPersonNameInput: PropTypes.string.isRequired,\n  handleAddPersonNameInputChange: PropTypes.func.isRequired,\n  handleAddPersonNumberInput: PropTypes.string.isRequired,\n  handleAddPersonNumberInputChange: PropTypes.func.isRequired,\n  handleAddPersonSubmit: PropTypes.func.isRequired\n}\n\nexport default PersonForm\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst Filter = ({ handleFilterInput, handleFilterInputChange }) => (\n  <div>\n    Apply filter to shown names:{' '}\n    <input value={handleFilterInput} onChange={handleFilterInputChange} />\n  </div>\n)\n\nFilter.propTypes = {\n  handleFilterInput: PropTypes.string.isRequired,\n  handleFilterInputChange: PropTypes.func.isRequired\n}\n\nexport default Filter\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: message.color,\n    background: 'dimgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n  if (message.content === null) {\n    return null\n  }\n\n  return <div style={notificationStyle}>{message.content}</div>\n}\n\nNotification.propTypes = {\n  message: PropTypes.objectOf(PropTypes.string).isRequired\n}\n\nexport default Notification\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n\n  return request.then((response) => response.data)\n}\n\nconst create = (person) => {\n  const request = axios.post(baseUrl, person)\n\n  return request.then((response) => response.data)\n}\n\nconst update = (id, person) => {\n  const request = axios.put(`${baseUrl}/${id}`, person)\n\n  return request.then((response) => response.data)\n}\n\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`)\n\nexport default { getAll, create, update, remove }\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport personService from './services/person'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [name, setName] = useState('')\n  const [number, setNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState({ content: null })\n\n  const showNotification = (content, color = '#61dafb') => {\n    if (content instanceof Error) {\n      const errorMessage =\n        content.response.data.errorMessage !== undefined\n          ? content.response.data.errorMessage\n          : 'Something went wrong!'\n      setMessage({ content: errorMessage, color: 'red' })\n      setTimeout(() => {\n        setMessage({ content: null })\n      }, 6000)\n    } else {\n      setMessage({ content, color })\n      setTimeout(() => {\n        setMessage({ content: null })\n      }, 6000)\n    }\n  }\n\n  const handleAddPersonSubmit = (event) => {\n    const newPerson = { name, number }\n\n    const matchingPersons = persons.filter(\n      (person) => person.name === newPerson.name\n    )\n\n    event.preventDefault()\n\n    if (matchingPersons.length > 0) {\n      const confirmMessage = `\"${matchingPersons[0].name}\" is already added to the phonebook, would you like to update their contact number?`\n\n      if (window.confirm(confirmMessage)) {\n        personService\n          .update(matchingPersons[0].id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== returnedPerson.id ? person : returnedPerson\n              )\n            )\n            setName('')\n            setNumber('')\n            showNotification(`Updated \"${returnedPerson.name}\"`)\n          })\n          .catch((error) => {\n            showNotification(error)\n            setPersons(\n              persons.filter((person) => person.id !== matchingPersons[0].id)\n            )\n          })\n      }\n    } else {\n      personService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson))\n          setName('')\n          setNumber('')\n          showNotification(`Added \"${returnedPerson.name}\"`)\n        })\n        .catch((error) => showNotification(error))\n    }\n  }\n\n  const handleAddPersonNameInputChange = (event) => setName(event.target.value)\n\n  const handleAddPersonNumberInputChange = (event) => {\n    setNumber(event.target.value)\n  }\n\n  const handleFilterInputChange = (event) => setFilter(event.target.value)\n\n  const handleDeletePersonButton = (id, nameToBeDeleted) => {\n    if (window.confirm(`Delete ${nameToBeDeleted}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id))\n          showNotification(`Deleted \"${nameToBeDeleted}\"`)\n        })\n        .catch((error) => {\n          showNotification(error)\n          setPersons(persons.filter((person) => person.id !== id))\n        })\n    }\n  }\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => setPersons(initialPersons))\n  }, [])\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <hr />\n      <Notification message={message} />\n      <Filter\n        handleFilterInput={filter}\n        handleFilterInputChange={handleFilterInputChange}\n      />\n      <h2>New Phonebook Entry</h2>\n      <PersonForm\n        handleAddPersonSubmit={handleAddPersonSubmit}\n        handleAddPersonNameInput={name}\n        handleAddPersonNameInputChange={handleAddPersonNameInputChange}\n        handleAddPersonNumberInput={number}\n        handleAddPersonNumberInputChange={handleAddPersonNumberInputChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filter={filter}\n        handleDeletePersonButton={handleDeletePersonButton}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}